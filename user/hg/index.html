
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.3.9">
    
    
      
        <title>Mercury RPC Layer - Mercury</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-98228964-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hg-interface" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Mercury" class="md-header__button md-logo" aria-label="Mercury" data-md-component="logo">
      
  <img src="../../assets/images/mercury_white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Mercury
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Mercury RPC Layer
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-hidden="true"  type="radio" name="__palette" id="__palette_1">
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/mercury-hpc/mercury" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"/></svg>
  </div>
  <div class="md-source__repository">
    mercury-hpc/mercury
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../about/" class="md-tabs__link">
      About
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../releases/download/" class="md-tabs__link">
        Releases
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../overview/" class="md-tabs__link md-tabs__link--active">
        User Guide
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../publications/" class="md-tabs__link">
      Publications
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../help/" class="md-tabs__link">
      Help
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Mercury" class="md-nav__button md-logo" aria-label="Mercury" data-md-component="logo">
      
  <img src="../../assets/images/mercury_white.png" alt="logo">

    </a>
    Mercury
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mercury-hpc/mercury" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"/></svg>
  </div>
  <div class="md-source__repository">
    mercury-hpc/mercury
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Releases
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Releases" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Releases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/download/" class="md-nav__link">
        Download
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          Release Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Release Notes" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Release Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/CHANGES_v2.2.0/" class="md-nav__link">
        Release Notes v2.2.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/CHANGES_v2.1.0/" class="md-nav__link">
        Release Notes v2.1.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/CHANGES_v2.0.1/" class="md-nav__link">
        Release Notes v2.0.1
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          User Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="User Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          User Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../na/" class="md-nav__link">
        Network Abstraction Layer
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Mercury RPC Layer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Mercury RPC Layer
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#hg-interface" class="md-nav__link">
    HG Interface
  </a>
  
    <nav class="md-nav" aria-label="HG Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialization" class="md-nav__link">
    Initialization
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registration" class="md-nav__link">
    Registration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#target-address-lookup" class="md-nav__link">
    Target Address Lookup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpc-execution" class="md-nav__link">
    RPC Execution
  </a>
  
    <nav class="md-nav" aria-label="RPC Execution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#origin" class="md-nav__link">
    Origin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#target" class="md-nav__link">
    Target
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#progress-and-cancelation" class="md-nav__link">
    Progress and Cancelation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hg_bulk/" class="md-nav__link">
        Mercury Bulk Layer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hg_macros/" class="md-nav__link">
        Mercury Serialization Macros
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6" type="checkbox" id="__nav_4_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_6">
          Appendix
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Appendix" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          Appendix
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ofi/" class="md-nav__link">
        Libfabric Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sm/" class="md-nav__link">
        Shared-Memory Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../drc/" class="md-nav__link">
        Using Cray DRC credentials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cancel/" class="md-nav__link">
        Cancelation and Timeouts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../checksum/" class="md-nav__link">
        MChecksum Library
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../publications/" class="md-nav__link">
        Publications
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../help/" class="md-nav__link">
        Help
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


  <h1>Mercury RPC Layer</h1>

<p>The RPC layer is used for sending and receiving RPCs. RPC arguments are generally
small. For handling larger arguments, this layer is complemented with a bulk
interface that is covered in the next section.</p>
<h2 id="hg-interface">HG Interface</h2>
<p>The HG interface directly builds on top of the NA interface. Sending an RPC
generally results in two NA operations being posted: an expected receive for
the response and an unexpected send for the RPC request. The entire interface
is therefore non-blocking with a goal of asynchronously executing RPCs on a
given target. In order to achieve that, the HG interface provides the following 
primitives: <em>target address lookup</em>, <em>RPC registration</em>,
<em>RPC execution</em>, <em>progress</em> and <em>cancelation</em>.</p>
<h3 id="initialization">Initialization</h3>
<p>To initialize the HG RPC interface, two options are available, either by using
the default <code>HG_Init()</code> function and specifying an init info string as described
in the NA plugin <a href="../na/#available-plugins">section</a>:</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_class_t</span><span class="w"> </span><span class="o">*</span><span class="w"></span>
<span class="nf">HG_Init</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">info_string</span><span class="p">,</span><span class="w"> </span><span class="n">hg_bool_t</span><span class="w"> </span><span class="n">listen</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>Or by using the <code>HG_Init_opt()</code> function, which allows for passing extra options.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>na_init_info</code></td>
<td>See NA initialization <a href="../na/#na-interface">options</a>.</td>
</tr>
<tr>
<td><code>na_class</code></td>
<td>Enables initialization from an existing NA class.</td>
</tr>
<tr>
<td><code>request_post_init</code></td>
<td>Controls the initial number of requests that are posted on context creation. <br/> Default value is: 256</td>
</tr>
<tr>
<td><code>request_post_incr</code></td>
<td>Controls the number of requests that are incrementally posted when the initial number of requests is exhausted. <br/> Default value is: 256</td>
</tr>
<tr>
<td><code>auto_sm</code></td>
<td>Controls whether shared-memory should be automatically used when origin and target share the same node.</td>
</tr>
<tr>
<td><code>sm_info_string</code></td>
<td>Overrides default init string for NA SM plugin.</td>
</tr>
<tr>
<td><code>no_bulk_eager</code></td>
<td>Prevents small bulk data from being automatically embedded along with the RPC request.</td>
</tr>
<tr>
<td><code>no_loopback</code></td>
<td>Disables internal loopback interface that enables forwarding of RPC to self addresses.</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="k">struct</span><span class="w"> </span><span class="nc">hg_init_info</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">na_init_info</span><span class="w"> </span><span class="n">na_init_info</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">na_class_t</span><span class="w"> </span><span class="o">*</span><span class="n">na_class</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">hg_uint32_t</span><span class="w"> </span><span class="n">request_post_init</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">hg_uint32_t</span><span class="w"> </span><span class="n">request_post_incr</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">hg_bool_t</span><span class="w"> </span><span class="n">auto_sm</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">sm_info_string</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">hg_bool_t</span><span class="w"> </span><span class="n">no_bulk_eager</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">hg_bool_t</span><span class="w"> </span><span class="n">no_loopback</span><span class="p">;</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">hg_init_info</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">na_init_info</span><span class="w"> </span><span class="n">na_init_info</span><span class="p">;</span><span class="w">   </span><span class="cm">/* NA Init Info */</span><span class="w"></span>
<span class="w">    </span><span class="n">na_class_t</span><span class="w"> </span><span class="o">*</span><span class="n">na_class</span><span class="p">;</span><span class="w">               </span><span class="cm">/* NA class */</span><span class="w"></span>
<span class="w">    </span><span class="n">hg_bool_t</span><span class="w"> </span><span class="n">auto_sm</span><span class="p">;</span><span class="w">                  </span><span class="cm">/* Use NA SM plugin with local addrs */</span><span class="w"></span>
<span class="w">    </span><span class="n">hg_bool_t</span><span class="w"> </span><span class="n">stats</span><span class="p">;</span><span class="w">                    </span><span class="cm">/* (Debug) Print stats at exit */</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="n">hg_class_t</span><span class="w"> </span><span class="o">*</span><span class="w"></span>
<span class="nf">HG_Init_opt</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">na_info_string</span><span class="p">,</span><span class="w"> </span><span class="n">hg_bool_t</span><span class="w"> </span><span class="n">na_listen</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">hg_init_info</span><span class="w"> </span><span class="o">*</span><span class="n">hg_init_info</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>Similar to the NA layer, the <code>HG_Init()</code> call results in the
creation of a new <code>hg_class_t</code> object. The <code>hg_class_t</code> object can later be
released after a call to:</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Finalize</span><span class="p">(</span><span class="n">hg_class_t</span><span class="w"> </span><span class="o">*</span><span class="n">hg_class</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>Once the interface has been initialized, a context of execution must be
created, which (similar to the NA layer) internally associates a specific
queue to the operations that will complete:</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_context_t</span><span class="w"> </span><span class="o">*</span><span class="w"></span>
<span class="nf">HG_Context_create</span><span class="p">(</span><span class="n">hg_class_t</span><span class="w"> </span><span class="o">*</span><span class="n">hg_class</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>It can then be destroyed using:</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Context_destroy</span><span class="p">(</span><span class="n">hg_context_t</span><span class="w"> </span><span class="o">*</span><span class="n">context</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<h3 id="registration">Registration</h3>
<p>Before an RPC can be sent, the HG class needs a way of identifying it so that a
callback corresponding to that RPC can be executed on the target. Additionally,
the functions to serialize and deserialize the function arguments associated
to that RPC must be provided. This is done through the <code>HG_Register_name()</code> function.
Note that this step can be slightly simplified by using the <code>MERCURY_REGISTER</code> macro.
Registration must be done on
both the origin and the target with the same <code>func_name</code> identifier.
Alternatively <code>HG_Register()</code> can be used to pass a user-defined unique
identifier and avoid internal hashing of the provided function name.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="n">hg_return_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">hg_proc_cb_t</span><span class="p">)(</span><span class="n">hg_proc_t</span><span class="w"> </span><span class="n">proc</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="k">typedef</span><span class="w"> </span><span class="n">hg_return_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">hg_rpc_cb_t</span><span class="p">)(</span><span class="n">hg_handle_t</span><span class="w"> </span><span class="n">handle</span><span class="p">);</span><span class="w"></span>

<span class="n">hg_id_t</span><span class="w"></span>
<span class="nf">HG_Register_name</span><span class="p">(</span><span class="n">hg_class_t</span><span class="w"> </span><span class="o">*</span><span class="n">hg_class</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">func_name</span><span class="p">,</span><span class="w"></span>
<span class="w">                 </span><span class="n">hg_proc_cb_t</span><span class="w"> </span><span class="n">in_proc_cb</span><span class="p">,</span><span class="w"> </span><span class="n">hg_proc_cb_t</span><span class="w"> </span><span class="n">out_proc_cb</span><span class="p">,</span><span class="w"></span>
<span class="w">                 </span><span class="n">hg_rpc_cb_t</span><span class="w"> </span><span class="n">rpc_cb</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>It is also possible (but not necessary) to deregister an existing RPC ID,
in the case where an RPC should no longer be received by using:</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Deregister</span><span class="p">(</span><span class="n">hg_class_t</span><span class="w"> </span><span class="o">*</span><span class="n">hg_class</span><span class="p">,</span><span class="w"> </span><span class="n">hg_id_t</span><span class="w"> </span><span class="n">id</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>In the case where an RPC does not require a response, one can indicate that
no response is expected (and therefore avoid waiting for a message to be sent
back) by using the following call (on an already registered RPC):</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Registered_disable_response</span><span class="p">(</span><span class="n">hg_class_t</span><span class="w"> </span><span class="o">*</span><span class="n">hg_class</span><span class="p">,</span><span class="w"> </span><span class="n">hg_id_t</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">hg_bool_t</span><span class="w"> </span><span class="n">disable</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<h3 id="target-address-lookup">Target Address Lookup</h3>
<p>As mentioned in the <a href="../overview/">overview</a> section, there is no real
distinction between client and server since
it may be desirable for a client to also act as a server for other processes.
Therefore, the interface only uses the distinction of <em>origin</em> and <em>target</em>.</p>
<p>Similar to NA's API, the first step consists of retrieving the target's address,
this can be done by calling on the target:</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Addr_self</span><span class="p">(</span><span class="n">hg_class_t</span><span class="w"> </span><span class="o">*</span><span class="n">hg_class</span><span class="p">,</span><span class="w"> </span><span class="n">hg_addr_t</span><span class="w"> </span><span class="o">*</span><span class="n">addr</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>And then convert it to string using:</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Addr_to_string</span><span class="p">(</span><span class="n">hg_class_t</span><span class="w"> </span><span class="o">*</span><span class="n">hg_class</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="n">hg_size_t</span><span class="w"> </span><span class="o">*</span><span class="n">buf_size</span><span class="p">,</span><span class="w"> </span><span class="n">hg_addr_t</span><span class="w"> </span><span class="n">addr</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>The string can then be exchanged back with the origin through out-of-band
mechanisms (e.g., using a file, etc),
which can then look the target up using the function:</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Addr_lookup</span><span class="p">(</span><span class="n">hg_class_t</span><span class="w"> </span><span class="o">*</span><span class="n">hg_class</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">hg_addr_t</span><span class="w"> </span><span class="o">*</span><span class="n">addr</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>All addresses must then be freed using:</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Addr_free</span><span class="p">(</span><span class="n">hg_class_t</span><span class="w"> </span><span class="o">*</span><span class="n">hg_class</span><span class="p">,</span><span class="w"> </span><span class="n">hg_addr_t</span><span class="w"> </span><span class="n">addr</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<h3 id="rpc-execution">RPC Execution</h3>
<p>Executing an RPC is generally composed of two parts, one on the origin, which
will send the RPC request and receive a response, one on the target, which
will receive the request, execute it and send a response back.</p>
<h4 id="origin">Origin</h4>
<p>Using the RPC ID defined after a call to <code>HG_Register()</code>, one can use
the <code>HG_Create()</code> call to define
a new <code>hg_handle_t</code> object that can be used (and later re-used without
reallocating resources) to set/get input/output arguments.</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Create</span><span class="p">(</span><span class="n">hg_context_t</span><span class="w"> </span><span class="o">*</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">hg_addr_t</span><span class="w"> </span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="n">hg_id_t</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">hg_handle_t</span><span class="w"> </span><span class="o">*</span><span class="n">handle</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>This handle can be destroyed with <code>HG_Destroy()</code>&mdash;and a reference count prevents
resources from being released while the handle is still in use.</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Destroy</span><span class="p">(</span><span class="n">hg_handle_t</span><span class="w"> </span><span class="n">handle</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>The second step is to pack the input arguments within a structure, for which
a serialization function is provided with the <code>HG_Register()</code> call. The
<code>HG_Forward()</code> function can then be used to send that structure (which describes
the input arguments). This function is non-blocking. When it completes, the associated
callback can be executed by calling <code>HG_Trigger()</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="n">hg_return_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">hg_cb_t</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">hg_cb_info</span><span class="w"> </span><span class="o">*</span><span class="n">callback_info</span><span class="p">);</span><span class="w"></span>

<span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Forward</span><span class="p">(</span><span class="n">hg_handle_t</span><span class="w"> </span><span class="n">handle</span><span class="p">,</span><span class="w"> </span><span class="n">hg_cb_t</span><span class="w"> </span><span class="n">callback</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">arg</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">in_struct</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>When <code>HG_Forward()</code> completes (i.e., when the user callback can be triggered),
the RPC has been remotely executed and a response with the output results has
been sent back. This output can then be retrieved (usually within the callback)
with the following function:</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Get_output</span><span class="p">(</span><span class="n">hg_handle_t</span><span class="w"> </span><span class="n">handle</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">out_struct</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>Retrieving the output may result in the creation of memory objects, which
must then be released by calling:</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Free_output</span><span class="p">(</span><span class="n">hg_handle_t</span><span class="w"> </span><span class="n">handle</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">out_struct</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>To be safe and if necessary, one must make a copy of the results before
calling <code>HG_Free_output()</code>. Note that in the case of an RPC with no response,
completion occurs after the RPC has been successfully sent (i.e., there is
no output to retrieve).</p>
<h4 id="target">Target</h4>
<p>On the target, the RPC callback function passed to the <code>HG_Register()</code> call must
be defined.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="n">hg_return_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">hg_rpc_cb_t</span><span class="p">)(</span><span class="n">hg_handle_t</span><span class="w"> </span><span class="n">handle</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>Whenever a new RPC is received, that callback will
be invoked. The input arguments can be retrieved with:</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Get_input</span><span class="p">(</span><span class="n">hg_handle_t</span><span class="w"> </span><span class="n">handle</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">in_struct</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>Retrieving the input may result in the creation of memory objects, which
must then be released by calling:</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Free_input</span><span class="p">(</span><span class="n">hg_handle_t</span><span class="w"> </span><span class="n">handle</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">in_struct</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>When the input has been retrieved, the arguments contained in the input structure
can be passed to the actual function call.
When the execution is done, an output structure
can be filled with the return value and/or the output arguments of the function.
It can then be sent back using:</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="n">hg_return_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">hg_cb_t</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">hg_cb_info</span><span class="w"> </span><span class="o">*</span><span class="n">callback_info</span><span class="p">);</span><span class="w"></span>

<span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Respond</span><span class="p">(</span><span class="n">hg_handle_t</span><span class="w"> </span><span class="n">handle</span><span class="p">,</span><span class="w"> </span><span class="n">hg_cb_t</span><span class="w"> </span><span class="n">callback</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">arg</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">out_struct</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>This call is also non-blocking. When it completes, the associated callback is
placed onto a completion queue. It can then be triggered after a call to
<code>HG_Trigger()</code>. Note that in the case of an RPC with no response, calling
<code>HG_Respond()</code> will return an error.</p>
<h3 id="progress-and-cancelation">Progress and Cancelation</h3>
<p>Mercury uses a callback model. Callbacks are passed to non-blocking functions
and are pushed to the context's completion queue when the operation completes.
Explicit progress is made by calling <code>HG_Progress()</code>. <code>HG_Progress()</code> returns when
an operation completes, is in the completion queue or <code>timeout</code> is reached.</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Progress</span><span class="p">(</span><span class="n">hg_context_t</span><span class="w"> </span><span class="o">*</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">timeout</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>When an operation completes, calling <code>HG_Trigger()</code> allows the callback
execution to be separately controlled from the main progress loop.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Operations may complete with an <code>HG_SUCCESS</code> return code or
with an error return code if failure occured after the operation was submitted.
The <code>ret</code> field from the <code>hg_cb_info</code> struct should therefore always be checked
for potential errors.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Trigger</span><span class="p">(</span><span class="n">hg_context_t</span><span class="w"> </span><span class="o">*</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">timeout</span><span class="p">,</span><span class="w"></span>
<span class="w">           </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">max_count</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">actual_count</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>In some cases, one may want to call <code>HG_Progress()</code> then <code>HG_Trigger()</code> or have
them execute in parallel by using separate threads.</p>
<p>When it is desirable to cancel an HG operation,
one can call <code>HG_Cancel()</code> on a HG handle to cancel an on-going
<code>HG_Forward()</code> or <code>HG_Respond()</code> operation. Please refer to this
<a href="../cancel/">page</a> for additional details
regarding cancellation of operations and handling of timeouts.</p>
<div class="highlight"><pre><span></span><code><span class="n">hg_return_t</span><span class="w"></span>
<span class="nf">HG_Cancel</span><span class="p">(</span><span class="n">hg_handle_t</span><span class="w"> </span><span class="n">handle</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>Cancelation is always asynchronous. When/if the operation is successfully
canceled, it will be pushed to the completion queue and the callback <code>ret</code> value
will set with an <code>HG_CANCELED</code> error return code.</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">December 4, 2021</span>
      
    
  </small>
</div>

              
            </article>
            
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../na/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Network Abstraction Layer" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Network Abstraction Layer
            </div>
          </div>
        </a>
      
      
        
        <a href="../hg_bulk/" class="md-footer__link md-footer__link--next" aria-label="Next: Mercury Bulk Layer" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Mercury Bulk Layer
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2013 - 2022 UChicago Argonne, LLC and The HDF Group
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "toc.integrate"], "search": "../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
    
  </body>
</html>